<<<<<<< HEAD
CCS PCH C Compiler, Version 4.140, 21898               26-jul-13 08:56
=======
CCS PCH C Compiler, Version 4.140, 21898               26-jul-13 16:43
>>>>>>> refs/heads/18F452

               Filename:   E:\Eletronica\Projetos\Calendario\calendario.lst

<<<<<<< HEAD
               ROM used:   1238 bytes (4%)
                           Largest free fragment is 31530
               RAM used:   12 (1%) at main() level
                           37 (2%) worst case
               Stack:     3 locations
=======
               ROM used:   1976 bytes (6%)
                           Largest free fragment is 30792
               RAM used:   14 (1%) at main() level
                           27 (2%) worst case
               Stack:     5 locations
>>>>>>> refs/heads/18F452

*
<<<<<<< HEAD
0000:  GOTO   041C
.................... #include <18F252.h> 
.................... //////// Standard Header file for the PIC18F252 device //////////////// 
.................... #device PIC18F252 
=======
0000:  GOTO   0708
.................... ///* 
.................... // * calendario.c 
.................... // * 
.................... // *  Created on: 02/02/2012 
.................... // *      Author: cuki 
.................... // */ 
....................  
.................... #include<18F452.h> 
.................... //////// Standard Header file for the PIC18F452 device //////////////// 
.................... #device PIC18F452 
>>>>>>> refs/heads/18F452
.................... #list 
....................  
<<<<<<< HEAD
=======
....................  
.................... #fuses H4 
.................... #use delay (crystal=10MHz, clock=40MHz) 
*
0202:  CLRF   FEA
0204:  MOVLW  19
0206:  MOVWF  FE9
0208:  MOVF   FEF,W
020A:  BZ    0228
020C:  MOVLW  0C
020E:  MOVWF  01
0210:  CLRF   00
0212:  DECFSZ 00,F
0214:  BRA    0212
0216:  DECFSZ 01,F
0218:  BRA    0210
021A:  MOVLW  F7
021C:  MOVWF  00
021E:  DECFSZ 00,F
0220:  BRA    021E
0222:  BRA    0224
0224:  DECFSZ FEF,F
0226:  BRA    020C
0228:  RETURN 0
*
0264:  MOVLW  02
0266:  SUBWF  19,F
0268:  BNC   0280
026A:  CLRF   FEA
026C:  MOVLW  19
026E:  MOVWF  FE9
0270:  MOVF   FEF,W
0272:  BZ    0280
0274:  MOVLW  02
0276:  MOVWF  00
0278:  DECFSZ 00,F
027A:  BRA    0278
027C:  DECFSZ FEF,F
027E:  BRA    0274
0280:  GOTO   029A (RETURN)
.................... #use rs232(baud=9600,xmit=PIN_C6,rcv=PIN_C7) 
.................... #use i2c(master, sda=PIN_C4, scl=PIN_C3, fast=50000) 
*
0034:  MOVLW  08
0036:  MOVWF  01
0038:  MOVLW  1E
003A:  MOVWF  00
003C:  DECFSZ 00,F
003E:  BRA    003C
0040:  BCF    F8B.3
0042:  BCF    F94.3
0044:  MOVLW  1F
0046:  MOVWF  00
0048:  DECFSZ 00,F
004A:  BRA    0048
004C:  RLCF   11,F
004E:  BCF    F8B.4
0050:  BTFSC  FD8.0
0052:  BSF    F94.4
0054:  BTFSS  FD8.0
0056:  BCF    F94.4
0058:  BSF    F94.3
005A:  BTFSS  F82.3
005C:  BRA    005A
005E:  DECFSZ 01,F
0060:  BRA    0038
0062:  MOVLW  1E
0064:  MOVWF  00
0066:  DECFSZ 00,F
0068:  BRA    0066
006A:  BCF    F8B.3
006C:  BCF    F94.3
006E:  NOP   
0070:  BSF    F94.4
0072:  MOVLW  1F
0074:  MOVWF  00
0076:  DECFSZ 00,F
0078:  BRA    0076
007A:  MOVLW  1F
007C:  MOVWF  00
007E:  DECFSZ 00,F
0080:  BRA    007E
0082:  BSF    F94.3
0084:  BTFSS  F82.3
0086:  BRA    0084
0088:  CLRF   01
008A:  MOVLW  1F
008C:  MOVWF  00
008E:  DECFSZ 00,F
0090:  BRA    008E
0092:  BTFSC  F82.4
0094:  BSF    01.0
0096:  BCF    F8B.3
0098:  BCF    F94.3
009A:  BCF    F8B.4
009C:  BCF    F94.4
009E:  RETURN 0
00A0:  MOVLW  08
00A2:  MOVWF  12
00A4:  MOVFF  00,13
00A8:  BSF    F94.4
00AA:  MOVLW  1F
00AC:  MOVWF  00
00AE:  DECFSZ 00,F
00B0:  BRA    00AE
00B2:  BSF    F94.3
00B4:  BTFSS  F82.3
00B6:  BRA    00B4
00B8:  BTFSC  F82.4
00BA:  BSF    FD8.0
00BC:  BTFSS  F82.4
00BE:  BCF    FD8.0
00C0:  RLCF   01,F
00C2:  MOVLW  1E
00C4:  MOVWF  00
00C6:  DECFSZ 00,F
00C8:  BRA    00C6
00CA:  BCF    F94.3
00CC:  BCF    F8B.3
00CE:  DECFSZ 12,F
00D0:  BRA    00A8
00D2:  BSF    F94.4
00D4:  MOVLW  1F
00D6:  MOVWF  00
00D8:  DECFSZ 00,F
00DA:  BRA    00D8
00DC:  BCF    F8B.4
00DE:  MOVF   13,W
00E0:  BTFSS  FD8.2
00E2:  BCF    F94.4
00E4:  NOP   
00E6:  BSF    F94.3
00E8:  BTFSS  F82.3
00EA:  BRA    00E8
00EC:  MOVLW  1E
00EE:  MOVWF  00
00F0:  DECFSZ 00,F
00F2:  BRA    00F0
00F4:  BCF    F8B.3
00F6:  BCF    F94.3
00F8:  MOVLW  1F
00FA:  MOVWF  00
00FC:  DECFSZ 00,F
00FE:  BRA    00FC
0100:  BCF    F8B.4
0102:  BCF    F94.4
0104:  RETURN 0
....................  
.................... #include"calendario.h" 
.................... /* 
....................  * calendario.h 
....................  * 
....................  *  Created on: 26/07/2013 
....................  *      Author: cuki 
....................  */ 
>>>>>>> refs/heads/18F452
....................  
<<<<<<< HEAD
.................... #fuses H4 
.................... #use delay(crystal=8MHz, clock=32MHz) 
03F4:  CLRF   FEA
03F6:  MOVLW  14
03F8:  MOVWF  FE9
03FA:  MOVF   FEF,W
03FC:  BZ    0418
03FE:  MOVLW  0A
0400:  MOVWF  01
0402:  CLRF   00
0404:  DECFSZ 00,F
0406:  BRA    0404
0408:  DECFSZ 01,F
040A:  BRA    0402
040C:  MOVLW  5F
040E:  MOVWF  00
0410:  DECFSZ 00,F
0412:  BRA    0410
0414:  DECFSZ FEF,F
0416:  BRA    03FE
0418:  GOTO   04CA (RETURN)
.................... #use rs232(baud=9660, xmit=PIN_C6) 
=======
.................... #ifndef CALENDARIO_H_ 
.................... #define CALENDARIO_H_ 
....................  
.................... #define DS1307		0xD0 
.................... #define sec_addr	0x00 
.................... #define min_addr	0x01 
.................... #define hour_addr	0x02 
.................... #define day_addr	0x03 
.................... #define date_addr	0x04 
.................... #define month_addr	0x05 
.................... #define year_addr	0x06 
.................... #define ctlr_addr	0x07 
.................... #define debounce 	100 
....................  
.................... struct cal { 
.................... 	short am_pm; 
.................... 	int segundos, minutos, horas, dow, dia, mes, ano; 
.................... }; 
....................  
.................... int getReg(int addr) { 
.................... 	int leitura; 
....................  
.................... 	i2c_start(); 
0106:  BSF    F94.4
0108:  MOVLW  1E
010A:  MOVWF  00
010C:  DECFSZ 00,F
010E:  BRA    010C
0110:  BSF    F94.3
0112:  MOVLW  1F
0114:  MOVWF  00
0116:  DECFSZ 00,F
0118:  BRA    0116
011A:  BCF    F8B.4
011C:  BCF    F94.4
011E:  MOVLW  1E
0120:  MOVWF  00
0122:  DECFSZ 00,F
0124:  BRA    0122
0126:  BCF    F8B.3
0128:  BCF    F94.3
.................... 	i2c_write(DS1307); 
012A:  MOVLW  D0
012C:  MOVWF  11
012E:  RCALL  0034
.................... 	i2c_write(addr); 
0130:  MOVFF  0E,11
0134:  RCALL  0034
.................... 	i2c_start(); 
0136:  BSF    F94.4
0138:  MOVLW  1E
013A:  MOVWF  00
013C:  DECFSZ 00,F
013E:  BRA    013C
0140:  BSF    F94.3
0142:  MOVLW  1F
0144:  MOVWF  00
0146:  DECFSZ 00,F
0148:  BRA    0146
014A:  BTFSS  F82.3
014C:  BRA    014A
014E:  BCF    F8B.4
0150:  BCF    F94.4
0152:  MOVLW  1E
0154:  MOVWF  00
0156:  DECFSZ 00,F
0158:  BRA    0156
015A:  BCF    F8B.3
015C:  BCF    F94.3
.................... 	i2c_write(DS1307 + 1); 
015E:  MOVLW  D1
0160:  MOVWF  11
0162:  RCALL  0034
.................... 	leitura = i2c_read(0); 
0164:  CLRF   00
0166:  RCALL  00A0
0168:  MOVFF  01,0F
.................... 	i2c_stop(); 
016C:  BCF    F94.4
016E:  NOP   
0170:  BSF    F94.3
0172:  BTFSS  F82.3
0174:  BRA    0172
0176:  MOVLW  1E
0178:  MOVWF  00
017A:  DECFSZ 00,F
017C:  BRA    017A
017E:  BRA    0180
0180:  NOP   
0182:  BSF    F94.4
0184:  MOVLW  1E
0186:  MOVWF  00
0188:  DECFSZ 00,F
018A:  BRA    0188
....................  
.................... 	return leitura; 
018C:  MOVFF  0F,01
.................... } 
0190:  GOTO   01F2 (RETURN)
....................  
.................... void writeReg(int addr, int dado) { 
.................... 	i2c_start(); 
0194:  BSF    F94.4
0196:  MOVLW  1E
0198:  MOVWF  00
019A:  DECFSZ 00,F
019C:  BRA    019A
019E:  BSF    F94.3
01A0:  MOVLW  1F
01A2:  MOVWF  00
01A4:  DECFSZ 00,F
01A6:  BRA    01A4
01A8:  BCF    F8B.4
01AA:  BCF    F94.4
01AC:  MOVLW  1E
01AE:  MOVWF  00
01B0:  DECFSZ 00,F
01B2:  BRA    01B0
01B4:  BCF    F8B.3
01B6:  BCF    F94.3
.................... 	i2c_write(DS1307); 
01B8:  MOVLW  D0
01BA:  MOVWF  11
01BC:  RCALL  0034
.................... 	i2c_write(addr); 
01BE:  MOVFF  0F,11
01C2:  RCALL  0034
.................... 	i2c_write(dado); 
01C4:  MOVFF  10,11
01C8:  RCALL  0034
.................... 	i2c_stop(); 
01CA:  BCF    F94.4
01CC:  NOP   
01CE:  BSF    F94.3
01D0:  BTFSS  F82.3
01D2:  BRA    01D0
01D4:  MOVLW  1E
01D6:  MOVWF  00
01D8:  DECFSZ 00,F
01DA:  BRA    01D8
01DC:  BRA    01DE
01DE:  NOP   
01E0:  BSF    F94.4
01E2:  MOVLW  1E
01E4:  MOVWF  00
01E6:  DECFSZ 00,F
01E8:  BRA    01E6
.................... } 
01EA:  GOTO   01FE (RETURN)
....................  
.................... void pause(void) { 
.................... 	int aux; 
....................  
.................... 	aux = getReg(sec_addr); 
.................... 	if (!bit_test(aux, 7)) 
.................... 		aux |= 0x80; 
.................... 	else 
.................... 		aux &= 0x7F; 
.................... 	writeReg(sec_addr, aux); 
.................... } 
....................  
.................... int toSec(int in) { 
.................... 	int lsb, msb; 
....................  
.................... 	lsb = in & 0x0F; 
*
0326:  MOVF   12,W
0328:  ANDLW  0F
032A:  MOVWF  13
.................... 	msb = (in & 0x70) >> 4; 
032C:  MOVF   12,W
032E:  ANDLW  70
0330:  MOVWF  00
0332:  SWAPF  00,W
0334:  MOVWF  14
0336:  MOVLW  0F
0338:  ANDWF  14,F
....................  
.................... 	return 10 * msb + lsb; 
033A:  MOVF   14,W
033C:  MULLW  0A
033E:  MOVF   FF3,W
0340:  ADDWF  13,W
0342:  MOVWF  01
.................... } 
0344:  RETURN 0
....................  
.................... int toHour(int in, short *AM_PM) { 
.................... 	int msb, lsb; 
....................  
.................... 	if (bit_test(in, 7)) { 
0346:  BTFSS  13.7
0348:  BRA    036A
.................... 		msb = (in & 0x10) >> 4; 
034A:  MOVF   13,W
034C:  ANDLW  10
034E:  MOVWF  00
0350:  SWAPF  00,W
0352:  MOVWF  16
0354:  MOVLW  0F
0356:  ANDWF  16,F
.................... 		*AM_PM = bit_test(in, 5); 
0358:  MOVFF  14,FE9
035C:  MOVFF  15,FEA
0360:  MOVLW  00
0362:  BTFSC  13.5
0364:  MOVLW  01
0366:  MOVWF  FEF
.................... 	} else { 
0368:  BRA    0378
.................... 		msb = (in & 0x30) >> 4; 
036A:  MOVF   13,W
036C:  ANDLW  30
036E:  MOVWF  00
0370:  SWAPF  00,W
0372:  MOVWF  16
0374:  MOVLW  0F
0376:  ANDWF  16,F
.................... 	} 
.................... 	lsb = in & 0x0F; 
0378:  MOVF   13,W
037A:  ANDLW  0F
037C:  MOVWF  17
....................  
.................... 	return 10 * msb + lsb; 
037E:  MOVF   16,W
0380:  MULLW  0A
0382:  MOVF   FF3,W
0384:  ADDWF  17,W
0386:  MOVWF  01
.................... } 
0388:  GOTO   04E0 (RETURN)
....................  
.................... int toDate(int in) { 
.................... 	int msb, lsb; 
....................  
.................... 	lsb = in & 0x0F; 
038C:  MOVF   12,W
038E:  ANDLW  0F
0390:  MOVWF  14
.................... 	msb = (in & 0x30) >> 4; 
0392:  MOVF   12,W
0394:  ANDLW  30
0396:  MOVWF  00
0398:  SWAPF  00,W
039A:  MOVWF  13
039C:  MOVLW  0F
039E:  ANDWF  13,F
....................  
.................... 	return msb * 10 + lsb; 
03A0:  MOVF   13,W
03A2:  MULLW  0A
03A4:  MOVF   FF3,W
03A6:  ADDWF  14,W
03A8:  MOVWF  01
.................... } 
03AA:  GOTO   0526 (RETURN)
....................  
.................... int toMonth(int in) { 
.................... 	int lsb, msb; 
....................  
.................... 	lsb = in & 0x0F; 
03AE:  MOVF   12,W
03B0:  ANDLW  0F
03B2:  MOVWF  13
.................... 	msb = (in & 0x10) >> 4; 
03B4:  MOVF   12,W
03B6:  ANDLW  10
03B8:  MOVWF  00
03BA:  SWAPF  00,W
03BC:  MOVWF  14
03BE:  MOVLW  0F
03C0:  ANDWF  14,F
....................  
.................... 	return msb * 10 + lsb; 
03C2:  MOVF   14,W
03C4:  MULLW  0A
03C6:  MOVF   FF3,W
03C8:  ADDWF  13,W
03CA:  MOVWF  01
.................... } 
03CC:  GOTO   0554 (RETURN)
....................  
.................... int toYear(int in) { 
.................... 	int lsb, msb; 
....................  
.................... 	lsb = in & 0x0F; 
03D0:  MOVF   12,W
03D2:  ANDLW  0F
03D4:  MOVWF  13
.................... 	msb = (in & 0xF0) >> 4; 
03D6:  MOVF   12,W
03D8:  ANDLW  F0
03DA:  MOVWF  00
03DC:  SWAPF  00,W
03DE:  MOVWF  14
03E0:  MOVLW  0F
03E2:  ANDWF  14,F
....................  
.................... 	return msb * 10 + lsb; 
03E4:  MOVF   14,W
03E6:  MULLW  0A
03E8:  MOVF   FF3,W
03EA:  ADDWF  13,W
03EC:  MOVWF  01
.................... } 
03EE:  GOTO   0580 (RETURN)
....................  
.................... int getSec(void) { 
.................... 	return toSec(getReg(sec_addr)); 
.................... } 
....................  
.................... int getMin(void) { 
.................... 	return toSec(getReg(min_addr)); 
.................... } 
....................  
.................... int getHour(short *AM_PM) { 
.................... 	return toHour(getReg(hour_addr), *AM_PM); 
.................... } 
....................  
.................... int getDayOfWeek(void) { 
.................... 	return getReg(day_addr) & 0x07; 
.................... } 
....................  
.................... int getDate(void) { 
.................... 	return getReg(toDate(date_addr)); 
.................... } 
....................  
.................... int getMonth(void) { 
.................... 	return getReg(toMonth(month_addr)); 
.................... } 
....................  
.................... int getYear(void) { 
.................... 	return getReg(toYear(year_addr)); 
.................... } 
....................  
.................... void initDS1307(void) { 
.................... 	int aux; 
....................  
.................... 	writeReg(sec_addr, getReg(sec_addr) & 0x7F); 
*
01EE:  CLRF   0E
01F0:  BRA    0106
01F2:  MOVF   01,W
01F4:  ANDLW  7F
01F6:  MOVWF  0E
01F8:  CLRF   0F
01FA:  MOVWF  10
01FC:  BRA    0194
.................... } 
01FE:  GOTO   0726 (RETURN)
....................  
.................... void getDS1307(struct cal *calendario) { 
.................... 	i2c_start(); 
*
03F2:  BSF    F94.4
03F4:  MOVLW  1E
03F6:  MOVWF  00
03F8:  DECFSZ 00,F
03FA:  BRA    03F8
03FC:  BSF    F94.3
03FE:  MOVLW  1F
0400:  MOVWF  00
0402:  DECFSZ 00,F
0404:  BRA    0402
0406:  BCF    F8B.4
0408:  BCF    F94.4
040A:  MOVLW  1E
040C:  MOVWF  00
040E:  DECFSZ 00,F
0410:  BRA    040E
0412:  BCF    F8B.3
0414:  BCF    F94.3
.................... 	i2c_write(DS1307); 
0416:  MOVLW  D0
0418:  MOVWF  11
041A:  RCALL  0034
.................... 	i2c_write(sec_addr); 
041C:  CLRF   11
041E:  RCALL  0034
.................... 	i2c_start(); 
0420:  BSF    F94.4
0422:  MOVLW  1E
0424:  MOVWF  00
0426:  DECFSZ 00,F
0428:  BRA    0426
042A:  BSF    F94.3
042C:  MOVLW  1F
042E:  MOVWF  00
0430:  DECFSZ 00,F
0432:  BRA    0430
0434:  BTFSS  F82.3
0436:  BRA    0434
0438:  BCF    F8B.4
043A:  BCF    F94.4
043C:  MOVLW  1E
043E:  MOVWF  00
0440:  DECFSZ 00,F
0442:  BRA    0440
0444:  BCF    F8B.3
0446:  BCF    F94.3
.................... 	i2c_write(DS1307 + 1); 
0448:  MOVLW  D1
044A:  MOVWF  11
044C:  RCALL  0034
.................... 	calendario->segundos = toSec(i2c_read()); 
044E:  MOVLW  01
0450:  ADDWF  0D,W
0452:  MOVWF  01
0454:  MOVLW  00
0456:  ADDWFC 0E,W
0458:  MOVWF  03
045A:  MOVFF  01,0F
045E:  MOVWF  10
0460:  MOVLW  01
0462:  MOVWF  00
0464:  RCALL  00A0
0466:  MOVFF  01,11
046A:  MOVFF  01,12
046E:  RCALL  0326
0470:  MOVFF  10,FEA
0474:  MOVFF  0F,FE9
0478:  MOVFF  01,FEF
.................... 	calendario->minutos = toSec(i2c_read()); 
047C:  MOVLW  02
047E:  ADDWF  0D,W
0480:  MOVWF  01
0482:  MOVLW  00
0484:  ADDWFC 0E,W
0486:  MOVWF  03
0488:  MOVFF  01,0F
048C:  MOVWF  10
048E:  MOVLW  01
0490:  MOVWF  00
0492:  RCALL  00A0
0494:  MOVFF  01,11
0498:  MOVFF  01,12
049C:  RCALL  0326
049E:  MOVFF  10,FEA
04A2:  MOVFF  0F,FE9
04A6:  MOVFF  01,FEF
.................... 	calendario->horas = toHour(i2c_read(), calendario->am_pm); 
04AA:  MOVLW  03
04AC:  ADDWF  0D,W
04AE:  MOVWF  01
04B0:  MOVLW  00
04B2:  ADDWFC 0E,W
04B4:  MOVWF  03
04B6:  MOVFF  01,0F
04BA:  MOVWF  10
04BC:  MOVLW  01
04BE:  MOVWF  00
04C0:  RCALL  00A0
04C2:  MOVFF  01,11
04C6:  MOVFF  0D,FE9
04CA:  MOVFF  0E,FEA
04CE:  MOVLW  00
04D0:  BTFSC  FEF.0
04D2:  MOVLW  01
04D4:  MOVWF  12
04D6:  MOVFF  01,13
04DA:  CLRF   15
04DC:  MOVWF  14
04DE:  BRA    0346
04E0:  MOVFF  10,FEA
04E4:  MOVFF  0F,FE9
04E8:  MOVFF  01,FEF
.................... 	calendario->dow = i2c_read() & 0x07; 
04EC:  MOVLW  04
04EE:  ADDWF  0D,W
04F0:  MOVWF  FE9
04F2:  MOVLW  00
04F4:  ADDWFC 0E,W
04F6:  MOVWF  FEA
04F8:  MOVLW  01
04FA:  MOVWF  00
04FC:  RCALL  00A0
04FE:  MOVF   01,W
0500:  ANDLW  07
0502:  MOVWF  FEF
.................... 	calendario->dia = toDate(i2c_read()); 
0504:  MOVLW  05
0506:  ADDWF  0D,W
0508:  MOVWF  01
050A:  MOVLW  00
050C:  ADDWFC 0E,W
050E:  MOVWF  03
0510:  MOVFF  01,0F
0514:  MOVWF  10
0516:  MOVLW  01
0518:  MOVWF  00
051A:  RCALL  00A0
051C:  MOVFF  01,11
0520:  MOVFF  01,12
0524:  BRA    038C
0526:  MOVFF  10,FEA
052A:  MOVFF  0F,FE9
052E:  MOVFF  01,FEF
.................... 	calendario->mes = toMonth(i2c_read()); 
0532:  MOVLW  06
0534:  ADDWF  0D,W
0536:  MOVWF  01
0538:  MOVLW  00
053A:  ADDWFC 0E,W
053C:  MOVWF  03
053E:  MOVFF  01,0F
0542:  MOVWF  10
0544:  MOVLW  01
0546:  MOVWF  00
0548:  RCALL  00A0
054A:  MOVFF  01,11
054E:  MOVFF  01,12
0552:  BRA    03AE
0554:  MOVFF  10,FEA
0558:  MOVFF  0F,FE9
055C:  MOVFF  01,FEF
.................... 	calendario->ano = toYear(i2c_read(0)); 
0560:  MOVLW  07
0562:  ADDWF  0D,W
0564:  MOVWF  01
0566:  MOVLW  00
0568:  ADDWFC 0E,W
056A:  MOVWF  03
056C:  MOVFF  01,0F
0570:  MOVWF  10
0572:  CLRF   00
0574:  RCALL  00A0
0576:  MOVFF  01,11
057A:  MOVFF  01,12
057E:  BRA    03D0
0580:  MOVFF  10,FEA
0584:  MOVFF  0F,FE9
0588:  MOVFF  01,FEF
.................... 	i2c_stop(); 
058C:  BCF    F94.4
058E:  NOP   
0590:  BSF    F94.3
0592:  BTFSS  F82.3
0594:  BRA    0592
0596:  MOVLW  1E
0598:  MOVWF  00
059A:  DECFSZ 00,F
059C:  BRA    059A
059E:  BRA    05A0
05A0:  NOP   
05A2:  BSF    F94.4
05A4:  MOVLW  1E
05A6:  MOVWF  00
05A8:  DECFSZ 00,F
05AA:  BRA    05A8
.................... } 
05AC:  GOTO   0744 (RETURN)
....................  
.................... void setDS1307(int seg, int min, int hor, int dow, int dia, int mes, int ano, 
.................... 		short am_pm) { 
.................... 	i2c_start(); 
.................... 	i2c_write(DS1307); 
.................... 	i2c_write(sec_addr); 
.................... 	i2c_write(seg); 
.................... 	i2c_write(min); 
.................... } 
....................  
.................... #endif /* CALENDARIO_H_ */ 
....................  
.................... #include"lcd_4b.c" 
.................... #define rs PIN_E0 
.................... #define en PIN_E1 
.................... #define d4 PIN_D4 
.................... #define d5 PIN_D5 
.................... #define d6 PIN_D6 
.................... #define d7 PIN_D7 
....................  
.................... void lcd_cmd(int cmd) { 
.................... 	output_bit(d4, bit_test(cmd, 0)); 
>>>>>>> refs/heads/18F452
*
<<<<<<< HEAD
02FC:  BCF    F94.6
02FE:  BCF    F8B.6
0300:  MOVLW  08
0302:  MOVWF  01
0304:  BRA    0306
0306:  NOP   
0308:  BSF    01.7
030A:  BRA    0328
030C:  BCF    01.7
030E:  RRCF   19,F
0310:  BTFSC  FD8.0
0312:  BSF    F8B.6
0314:  BTFSS  FD8.0
0316:  BCF    F8B.6
0318:  BSF    01.6
031A:  BRA    0328
031C:  BCF    01.6
031E:  DECFSZ 01,F
0320:  BRA    030E
0322:  BRA    0324
0324:  NOP   
0326:  BSF    F8B.6
0328:  MOVLW  01
032A:  MOVWF  00
032C:  CLRF   FE9
032E:  DECFSZ FE9,F
0330:  BRA    032E
0332:  DECFSZ 00,F
0334:  BRA    032C
0336:  MOVLW  0C
0338:  MOVWF  FE9
033A:  DECFSZ FE9,F
033C:  BRA    033A
033E:  BRA    0340
0340:  BTFSC  01.7
0342:  BRA    030C
0344:  BTFSC  01.6
0346:  BRA    031C
0348:  RETURN 0
.................... #use i2c(master, sda=PIN_C4, scl=PIN_C3) 
=======
022A:  BTFSC  1A.0
022C:  BRA    0232
022E:  BCF    F8C.4
0230:  BRA    0234
0232:  BSF    F8C.4
0234:  BCF    F95.4
.................... 	output_bit(d5, bit_test(cmd, 1)); 
0236:  BTFSC  1A.1
0238:  BRA    023E
023A:  BCF    F8C.5
023C:  BRA    0240
023E:  BSF    F8C.5
0240:  BCF    F95.5
.................... 	output_bit(d6, bit_test(cmd, 2)); 
0242:  BTFSC  1A.2
0244:  BRA    024A
0246:  BCF    F8C.6
0248:  BRA    024C
024A:  BSF    F8C.6
024C:  BCF    F95.6
.................... 	output_bit(d7, bit_test(cmd, 3)); 
024E:  BTFSC  1A.3
0250:  BRA    0256
0252:  BCF    F8C.7
0254:  BRA    0258
0256:  BSF    F8C.7
0258:  BCF    F95.7
.................... 	output_high(en); 
025A:  BCF    F96.1
025C:  BSF    F8D.1
.................... 	output_low(en); 
025E:  BCF    F96.1
0260:  BCF    F8D.1
.................... } 
0262:  RETURN 0
....................  
.................... void lcd_envia_byte(short endereco, int dado) { 
.................... 	output_low(rs); 
>>>>>>> refs/heads/18F452
*
<<<<<<< HEAD
0004:  MOVLW  08
0006:  MOVWF  01
0008:  MOVLW  0A
000A:  MOVWF  00
000C:  DECFSZ 00,F
000E:  BRA    000C
0010:  BCF    F8B.3
0012:  BCF    F94.3
0014:  MOVLW  0B
0016:  MOVWF  00
0018:  DECFSZ 00,F
001A:  BRA    0018
001C:  RLCF   21,F
001E:  BCF    F8B.4
0020:  BTFSC  FD8.0
0022:  BSF    F94.4
0024:  BTFSS  FD8.0
0026:  BCF    F94.4
0028:  BSF    F94.3
002A:  BTFSS  F82.3
002C:  BRA    002A
002E:  DECFSZ 01,F
0030:  BRA    0008
0032:  MOVLW  0A
0034:  MOVWF  00
0036:  DECFSZ 00,F
0038:  BRA    0036
003A:  BCF    F8B.3
003C:  BCF    F94.3
003E:  NOP   
0040:  BSF    F94.4
0042:  MOVLW  0B
0044:  MOVWF  00
0046:  DECFSZ 00,F
0048:  BRA    0046
004A:  MOVLW  0B
004C:  MOVWF  00
004E:  DECFSZ 00,F
0050:  BRA    004E
0052:  BSF    F94.3
0054:  BTFSS  F82.3
0056:  BRA    0054
0058:  CLRF   01
005A:  MOVLW  0B
005C:  MOVWF  00
005E:  DECFSZ 00,F
0060:  BRA    005E
0062:  BTFSC  F82.4
0064:  BSF    01.0
0066:  BCF    F8B.3
0068:  BCF    F94.3
006A:  BCF    F8B.4
006C:  BCF    F94.4
006E:  RETURN 0
*
017E:  MOVLW  08
0180:  MOVWF  24
0182:  MOVFF  00,25
0186:  BSF    F94.4
0188:  MOVLW  0B
018A:  MOVWF  00
018C:  DECFSZ 00,F
018E:  BRA    018C
0190:  BSF    F94.3
0192:  BTFSS  F82.3
0194:  BRA    0192
0196:  BTFSC  F82.4
0198:  BSF    FD8.0
019A:  BTFSS  F82.4
019C:  BCF    FD8.0
019E:  RLCF   01,F
01A0:  MOVLW  0A
01A2:  MOVWF  00
01A4:  DECFSZ 00,F
01A6:  BRA    01A4
01A8:  BCF    F94.3
01AA:  BCF    F8B.3
01AC:  DECFSZ 24,F
01AE:  BRA    0186
01B0:  BSF    F94.4
01B2:  MOVLW  0B
01B4:  MOVWF  00
01B6:  DECFSZ 00,F
01B8:  BRA    01B6
01BA:  BCF    F8B.4
01BC:  MOVF   25,W
01BE:  BTFSS  FD8.2
01C0:  BCF    F94.4
01C2:  NOP   
01C4:  BSF    F94.3
01C6:  BTFSS  F82.3
01C8:  BRA    01C6
01CA:  MOVLW  0A
01CC:  MOVWF  00
01CE:  DECFSZ 00,F
01D0:  BRA    01CE
01D2:  BCF    F8B.3
01D4:  BCF    F94.3
01D6:  MOVLW  0B
01D8:  MOVWF  00
01DA:  DECFSZ 00,F
01DC:  BRA    01DA
01DE:  BCF    F8B.4
01E0:  BCF    F94.4
01E2:  RETURN 0
....................  
.................... #define DS1307_ADD 0xD0 
....................  
.................... int decToBcd(int val) { 
.................... 	return ((val / 10 * 16) + (val % 10)); 
*
0098:  MOVFF  1A,1C
009C:  MOVLW  0A
009E:  MOVWF  1D
00A0:  RCALL  0070
00A2:  MOVF   01,W
00A4:  MULLW  10
00A6:  MOVFF  FF3,1B
00AA:  MOVFF  1A,1C
00AE:  MOVLW  0A
00B0:  MOVWF  1D
00B2:  RCALL  0070
00B4:  MOVF   00,W
00B6:  ADDWF  1B,W
00B8:  MOVWF  01
=======
0284:  BCF    F96.0
0286:  BCF    F8D.0
.................... 	output_bit(rs, endereco); 
0288:  MOVF   17,F
028A:  BNZ   0290
028C:  BCF    F8D.0
028E:  BRA    0292
0290:  BSF    F8D.0
0292:  BCF    F96.0
.................... 	delay_us(100); 
0294:  MOVLW  64
0296:  MOVWF  19
0298:  BRA    0264
.................... 	output_low(en); 
029A:  BCF    F96.1
029C:  BCF    F8D.1
.................... 	lcd_cmd(dado >> 4); 
029E:  SWAPF  18,W
02A0:  MOVWF  19
02A2:  MOVLW  0F
02A4:  ANDWF  19,F
02A6:  MOVFF  19,1A
02AA:  RCALL  022A
.................... 	lcd_cmd(dado & 0x0f); 
02AC:  MOVF   18,W
02AE:  ANDLW  0F
02B0:  MOVWF  19
02B2:  MOVWF  1A
02B4:  RCALL  022A
.................... 	delay_ms(1); 
02B6:  MOVLW  01
02B8:  MOVWF  19
02BA:  RCALL  0202
>>>>>>> refs/heads/18F452
.................... } 
<<<<<<< HEAD
00BA:  RETURN 0
=======
02BC:  RETURN 0
>>>>>>> refs/heads/18F452
....................  
<<<<<<< HEAD
.................... int bcdToDec(int val) { 
.................... 	return ((val / 16 * 10) + (val % 16)); 
=======
.................... void lcd_pos_xy(byte x, byte y) { 
.................... 	byte endereco; 
.................... 	if (y != 1) 
*
05B0:  DECFSZ 15,W
05B2:  BRA    05B6
05B4:  BRA    05BC
.................... 		endereco = 0xc0; 
05B6:  MOVLW  C0
05B8:  MOVWF  16
.................... 	else 
05BA:  BRA    05C0
.................... 		endereco = 0x80; 
05BC:  MOVLW  80
05BE:  MOVWF  16
.................... 	endereco += x - 1; 
05C0:  MOVLW  01
05C2:  SUBWF  14,W
05C4:  ADDWF  16,F
.................... 	lcd_envia_byte(0, endereco); 
05C6:  CLRF   17
05C8:  MOVFF  16,18
05CC:  RCALL  0284
>>>>>>> refs/heads/18F452
.................... } 
<<<<<<< HEAD
=======
05CE:  GOTO   0616 (RETURN)
>>>>>>> refs/heads/18F452
....................  
<<<<<<< HEAD
.................... void setDateDs1307(int second, int minute, int hour, int dayOfWeek, 
.................... 		int dayOfMonth, int month, int year) { 
.................... 	i2c_start(); 
00BC:  BSF    F94.4
00BE:  MOVLW  0A
00C0:  MOVWF  00
00C2:  DECFSZ 00,F
00C4:  BRA    00C2
00C6:  BSF    F94.3
00C8:  MOVLW  0B
00CA:  MOVWF  00
00CC:  DECFSZ 00,F
00CE:  BRA    00CC
00D0:  BCF    F8B.4
00D2:  BCF    F94.4
00D4:  MOVLW  0A
00D6:  MOVWF  00
00D8:  DECFSZ 00,F
00DA:  BRA    00D8
00DC:  BCF    F8B.3
00DE:  BCF    F94.3
.................... 	i2c_write(DS1307_ADD); 
00E0:  MOVLW  D0
00E2:  MOVWF  21
00E4:  RCALL  0004
.................... 	i2c_write(0); 
00E6:  CLRF   21
00E8:  RCALL  0004
.................... 	i2c_write(decToBcd(second)); 
00EA:  MOVFF  13,1A
00EE:  RCALL  0098
00F0:  MOVFF  01,1A
00F4:  MOVFF  01,21
00F8:  RCALL  0004
.................... 	i2c_write(decToBcd(minute)); 
00FA:  MOVFF  14,1A
00FE:  RCALL  0098
0100:  MOVFF  01,1A
0104:  MOVFF  01,21
0108:  RCALL  0004
.................... 	i2c_write(decToBcd(hour)); 
010A:  MOVFF  15,1A
010E:  RCALL  0098
0110:  MOVFF  01,1A
0114:  MOVFF  01,21
0118:  RCALL  0004
.................... 	i2c_write(decToBcd(dayOfWeek)); 
011A:  MOVFF  16,1A
011E:  RCALL  0098
0120:  MOVFF  01,1A
0124:  MOVFF  01,21
0128:  RCALL  0004
.................... 	i2c_write(decToBcd(dayOfMonth)); 
012A:  MOVFF  17,1A
012E:  RCALL  0098
0130:  MOVFF  01,1A
0134:  MOVFF  01,21
0138:  RCALL  0004
.................... 	i2c_write(decToBcd(month)); 
013A:  MOVFF  18,1A
013E:  RCALL  0098
0140:  MOVFF  01,1A
0144:  MOVFF  01,21
0148:  RCALL  0004
.................... 	i2c_write(decToBcd(year)); 
014A:  MOVFF  19,1A
014E:  RCALL  0098
0150:  MOVFF  01,1A
0154:  MOVFF  01,21
0158:  RCALL  0004
.................... 	i2c_stop(); 
015A:  BCF    F94.4
015C:  NOP   
015E:  BSF    F94.3
0160:  BTFSS  F82.3
0162:  BRA    0160
0164:  MOVLW  0A
0166:  MOVWF  00
0168:  DECFSZ 00,F
016A:  BRA    0168
016C:  BRA    016E
016E:  NOP   
0170:  BSF    F94.4
0172:  MOVLW  0A
0174:  MOVWF  00
0176:  DECFSZ 00,F
0178:  BRA    0176
....................  
.................... } 
017A:  GOTO   046A (RETURN)
....................  
.................... void getDateDs1307(int *second, int *minute, int *hour, int *dayOfWeek, 
.................... 		int *dayOfMonth, int *month, int *year) { 
.................... 	i2c_start(); 
*
01E4:  BSF    F94.4
01E6:  MOVLW  0A
01E8:  MOVWF  00
01EA:  DECFSZ 00,F
01EC:  BRA    01EA
01EE:  BSF    F94.3
01F0:  MOVLW  0B
01F2:  MOVWF  00
01F4:  DECFSZ 00,F
01F6:  BRA    01F4
01F8:  BCF    F8B.4
01FA:  BCF    F94.4
01FC:  MOVLW  0A
01FE:  MOVWF  00
0200:  DECFSZ 00,F
0202:  BRA    0200
0204:  BCF    F8B.3
0206:  BCF    F94.3
.................... 	i2c_write(DS1307_ADD); 
0208:  MOVLW  D0
020A:  MOVWF  21
020C:  RCALL  0004
.................... 	i2c_write(0); 
020E:  CLRF   21
0210:  RCALL  0004
.................... 	i2c_start(); 
0212:  BSF    F94.4
0214:  MOVLW  0A
0216:  MOVWF  00
0218:  DECFSZ 00,F
021A:  BRA    0218
021C:  BSF    F94.3
021E:  MOVLW  0B
0220:  MOVWF  00
0222:  DECFSZ 00,F
0224:  BRA    0222
0226:  BTFSS  F82.3
0228:  BRA    0226
022A:  BCF    F8B.4
022C:  BCF    F94.4
022E:  MOVLW  0A
0230:  MOVWF  00
0232:  DECFSZ 00,F
0234:  BRA    0232
0236:  BCF    F8B.3
0238:  BCF    F94.3
.................... 	i2c_write(DS1307_ADD + 1); 
023A:  MOVLW  D1
023C:  MOVWF  21
023E:  RCALL  0004
.................... 	*second = i2c_read(); 
0240:  MOVFF  14,03
0244:  MOVFF  13,FE9
0248:  MOVFF  14,FEA
024C:  MOVLW  01
024E:  MOVWF  00
0250:  RCALL  017E
0252:  MOVFF  01,FEF
.................... 	*minute = i2c_read(); 
0256:  MOVFF  16,03
025A:  MOVFF  15,FE9
025E:  MOVFF  16,FEA
0262:  MOVLW  01
0264:  MOVWF  00
0266:  RCALL  017E
0268:  MOVFF  01,FEF
.................... 	*hour = i2c_read(); 
026C:  MOVFF  18,03
0270:  MOVFF  17,FE9
0274:  MOVFF  18,FEA
0278:  MOVLW  01
027A:  MOVWF  00
027C:  RCALL  017E
027E:  MOVFF  01,FEF
.................... 	*dayOfWeek = i2c_read(); 
0282:  MOVFF  1A,03
0286:  MOVFF  19,FE9
028A:  MOVFF  1A,FEA
028E:  MOVLW  01
0290:  MOVWF  00
0292:  RCALL  017E
0294:  MOVFF  01,FEF
.................... 	*dayOfMonth = i2c_read(); 
0298:  MOVFF  1C,03
029C:  MOVFF  1B,FE9
02A0:  MOVFF  1C,FEA
02A4:  MOVLW  01
02A6:  MOVWF  00
02A8:  RCALL  017E
02AA:  MOVFF  01,FEF
.................... 	*month = i2c_read(); 
02AE:  MOVFF  1E,03
02B2:  MOVFF  1D,FE9
02B6:  MOVFF  1E,FEA
02BA:  MOVLW  01
02BC:  MOVWF  00
02BE:  RCALL  017E
02C0:  MOVFF  01,FEF
.................... 	*year = i2c_read(0); 
02C4:  MOVFF  20,03
02C8:  MOVFF  1F,FE9
02CC:  MOVFF  20,FEA
02D0:  CLRF   00
02D2:  RCALL  017E
02D4:  MOVFF  01,FEF
.................... 	i2c_stop(); 
02D8:  BCF    F94.4
02DA:  NOP   
02DC:  BSF    F94.3
02DE:  BTFSS  F82.3
02E0:  BRA    02DE
02E2:  MOVLW  0A
02E4:  MOVWF  00
02E6:  DECFSZ 00,F
02E8:  BRA    02E6
02EA:  BRA    02EC
02EC:  NOP   
02EE:  BSF    F94.4
02F0:  MOVLW  0A
02F2:  MOVWF  00
02F4:  DECFSZ 00,F
02F6:  BRA    02F4
.................... } 
02F8:  GOTO   0496 (RETURN)
....................  
.................... int main(void) { 
*
041C:  CLRF   FF8
041E:  BCF    FD0.7
0420:  CLRF   FEA
0422:  CLRF   FE9
0424:  BCF    F94.6
0426:  BSF    F8B.6
0428:  BSF    FC1.0
042A:  BSF    FC1.1
042C:  BSF    FC1.2
042E:  BCF    FC1.3
.................... 	int second, minute, hour, dayOfWeek, dayOfMonth, month, year; 
....................  
.................... 	second = 45; 
0430:  MOVLW  2D
0432:  MOVWF  05
.................... 	minute = 3; 
0434:  MOVLW  03
0436:  MOVWF  06
.................... 	hour = 7; 
0438:  MOVLW  07
043A:  MOVWF  07
.................... 	dayOfWeek = 5; 
043C:  MOVLW  05
043E:  MOVWF  08
.................... 	dayOfMonth = 17; 
0440:  MOVLW  11
0442:  MOVWF  09
.................... 	month = 4; 
0444:  MOVLW  04
0446:  MOVWF  0A
.................... 	year = 8; 
0448:  MOVLW  08
044A:  MOVWF  0B
.................... 	setDateDs1307(second, minute, hour, dayOfWeek, dayOfMonth, month, year); 
044C:  MOVFF  05,13
0450:  MOVFF  06,14
0454:  MOVFF  07,15
0458:  MOVFF  08,16
045C:  MOVFF  09,17
0460:  MOVFF  0A,18
0464:  MOVFF  0B,19
0468:  BRA    00BC
....................  
.................... 	while (TRUE) { 
.................... 		int second, minute, hour, dayOfWeek, dayOfMonth, month, year; 
....................  
.................... 		getDateDs1307(&second, &minute, &hour, &dayOfWeek, &dayOfMonth, &month, 
.................... 				&year); 
046A:  CLRF   14
046C:  MOVLW  0C
046E:  MOVWF  13
0470:  CLRF   16
0472:  MOVLW  0D
0474:  MOVWF  15
0476:  CLRF   18
0478:  MOVLW  0E
047A:  MOVWF  17
047C:  CLRF   1A
047E:  MOVLW  0F
0480:  MOVWF  19
0482:  CLRF   1C
0484:  MOVLW  10
0486:  MOVWF  1B
0488:  CLRF   1E
048A:  MOVLW  11
048C:  MOVWF  1D
048E:  CLRF   20
0490:  MOVLW  12
0492:  MOVWF  1F
0494:  BRA    01E4
.................... 		printf("%2d:%2d:%2d", hour, minute, second); 
0496:  MOVFF  0E,13
049A:  MOVLW  11
049C:  MOVWF  14
049E:  RCALL  034A
04A0:  MOVLW  3A
04A2:  MOVWF  19
04A4:  RCALL  02FC
04A6:  MOVFF  0D,13
04AA:  MOVLW  11
04AC:  MOVWF  14
04AE:  RCALL  034A
04B0:  MOVLW  3A
04B2:  MOVWF  19
04B4:  RCALL  02FC
04B6:  MOVFF  0C,13
04BA:  MOVLW  11
04BC:  MOVWF  14
04BE:  RCALL  034A
....................  
.................... 		delay_ms(1000); 
04C0:  MOVLW  04
04C2:  MOVWF  13
04C4:  MOVLW  FA
04C6:  MOVWF  14
04C8:  BRA    03F4
04CA:  DECFSZ 13,F
04CC:  BRA    04C4
=======
.................... void lcd(char c) { 
.................... 	switch (c) { 
05D2:  MOVF   13,W
05D4:  XORLW  0C
05D6:  BZ    05E6
05D8:  XORLW  06
05DA:  BZ    05F6
05DC:  XORLW  07
05DE:  BZ    05F6
05E0:  XORLW  05
05E2:  BZ    0602
05E4:  BRA    060C
.................... 	case '\f': 
.................... 		lcd_envia_byte(0, 1);     // 0,1 
05E6:  CLRF   17
05E8:  MOVLW  01
05EA:  MOVWF  18
05EC:  RCALL  0284
.................... 		delay_ms(2); 
05EE:  MOVLW  02
05F0:  MOVWF  19
05F2:  RCALL  0202
.................... 		break; 
05F4:  BRA    0616
.................... 	case '\n': 
.................... 	case '\r': 
.................... 		lcd_pos_xy(1, 2);      // 1,2  COLUNA,LINHA 
05F6:  MOVLW  01
05F8:  MOVWF  14
05FA:  MOVLW  02
05FC:  MOVWF  15
05FE:  BRA    05B0
.................... 		break; 
0600:  BRA    0616
.................... 	case '\b': 
.................... 		lcd_envia_byte(0, 0x10); 
0602:  CLRF   17
0604:  MOVLW  10
0606:  MOVWF  18
0608:  RCALL  0284
.................... 		break; 
060A:  BRA    0616
.................... 	default: 
.................... 		lcd_envia_byte(1, c); 
060C:  MOVLW  01
060E:  MOVWF  17
0610:  MOVFF  13,18
0614:  RCALL  0284
.................... 		break; 
>>>>>>> refs/heads/18F452
.................... 	} 
04CE:  BRA    046A
.................... 	return 0; 
04D0:  MOVLW  00
04D2:  MOVWF  01
.................... } 
<<<<<<< HEAD
04D4:  SLEEP 
=======
0616:  RETURN 0
....................  
.................... void lcd_init() { 
....................  
.................... 	int conta; 
....................  
.................... 	output_low(rs); 
*
02BE:  BCF    F96.0
02C0:  BCF    F8D.0
.................... 	output_low(en); 
02C2:  BCF    F96.1
02C4:  BCF    F8D.1
.................... 	output_low(d4); 
02C6:  BCF    F95.4
02C8:  BCF    F8C.4
.................... 	output_low(d5); 
02CA:  BCF    F95.5
02CC:  BCF    F8C.5
.................... 	output_low(d6); 
02CE:  BCF    F95.6
02D0:  BCF    F8C.6
.................... 	output_low(d7); 
02D2:  BCF    F95.7
02D4:  BCF    F8C.7
....................  
.................... 	delay_ms(15); 
02D6:  MOVLW  0F
02D8:  MOVWF  19
02DA:  RCALL  0202
....................  
.................... 	for (conta = 1; conta <= 3; conta++) { 
02DC:  MOVLW  01
02DE:  MOVWF  0D
02E0:  MOVF   0D,W
02E2:  SUBLW  03
02E4:  BNC   02F6
.................... 		lcd_cmd(0x03); 
02E6:  MOVLW  03
02E8:  MOVWF  1A
02EA:  RCALL  022A
.................... 		delay_ms(5); 
02EC:  MOVLW  05
02EE:  MOVWF  19
02F0:  RCALL  0202
.................... 	} 
02F2:  INCF   0D,F
02F4:  BRA    02E0
.................... 	lcd_cmd(0x02);           //escreve comando para interface de 4 vias de dados 
02F6:  MOVLW  02
02F8:  MOVWF  1A
02FA:  RCALL  022A
.................... 	lcd_envia_byte(0, 0x28); //escreve comando informando lcd de 2 linhas (5x7) em 4bits 
02FC:  CLRF   17
02FE:  MOVLW  28
0300:  MOVWF  18
0302:  RCALL  0284
.................... 	lcd_envia_byte(0, 0x0c); //escreve comando para limpar todo o display 
0304:  CLRF   17
0306:  MOVLW  0C
0308:  MOVWF  18
030A:  RCALL  0284
.................... 	lcd_envia_byte(0, 0x01); //escreve comando para ligar o display **com cursor piscante 
030C:  CLRF   17
030E:  MOVLW  01
0310:  MOVWF  18
0312:  RCALL  0284
.................... 	lcd_envia_byte(0, 0x06); //escreve comando para incrementar automaticamente á direita 
0314:  CLRF   17
0316:  MOVLW  06
0318:  MOVWF  18
031A:  RCALL  0284
.................... 	delay_ms(5); 
031C:  MOVLW  05
031E:  MOVWF  19
0320:  RCALL  0202
.................... } 
0322:  GOTO   0728 (RETURN)
....................  
....................  
....................  
.................... struct cal calendario; 
....................  
.................... int main(void) { 
*
0708:  CLRF   FF8
070A:  BCF    FD0.7
070C:  CLRF   FEA
070E:  CLRF   FE9
0710:  MOVLW  40
0712:  MOVWF  FAF
0714:  MOVLW  A2
0716:  MOVWF  FAC
0718:  MOVLW  90
071A:  MOVWF  FAB
071C:  BSF    FC1.0
071E:  BSF    FC1.1
0720:  BSF    FC1.2
0722:  BCF    FC1.3
....................  
.................... 	int aux; 
....................  
.................... 	initDS1307(); 
0724:  BRA    01EE
.................... 	lcd_init(); 
0726:  BRA    02BE
.................... 	delay_ms(100); 
0728:  MOVLW  64
072A:  MOVWF  19
072C:  RCALL  0202
.................... //	getDS1307(&calendario); 
....................  
.................... 	while (TRUE) { 
.................... 		delay_ms(500); 
072E:  MOVLW  02
0730:  MOVWF  0D
0732:  MOVLW  FA
0734:  MOVWF  19
0736:  RCALL  0202
0738:  DECFSZ 0D,F
073A:  BRA    0732
.................... 		getDS1307(&calendario); 
073C:  CLRF   0E
073E:  MOVLW  04
0740:  MOVWF  0D
0742:  BRA    03F2
.................... 		printf(lcd, "\f        %02d:%02d:%02d\n        %02d/%02d/%02d", 
.................... 				calendario.horas, calendario.minutos, calendario.segundos, 
.................... 				calendario.dia, calendario.mes, calendario.ano); 
0744:  MOVLW  04
0746:  MOVWF  FF6
0748:  MOVLW  00
074A:  MOVWF  FF7
074C:  MOVLW  09
074E:  MOVWF  0D
0750:  RCALL  0618
0752:  MOVFF  07,0D
0756:  MOVLW  01
0758:  MOVWF  0E
075A:  RCALL  065E
075C:  MOVLW  3A
075E:  MOVWF  13
0760:  RCALL  05D2
0762:  MOVFF  06,0D
0766:  MOVLW  01
0768:  MOVWF  0E
076A:  RCALL  065E
076C:  MOVLW  3A
076E:  MOVWF  13
0770:  RCALL  05D2
0772:  MOVFF  05,0D
0776:  MOVLW  01
0778:  MOVWF  0E
077A:  RCALL  065E
077C:  MOVLW  1B
077E:  MOVWF  FF6
0780:  MOVLW  00
0782:  MOVWF  FF7
0784:  MOVLW  09
0786:  MOVWF  0D
0788:  RCALL  0618
078A:  MOVFF  09,0D
078E:  MOVLW  01
0790:  MOVWF  0E
0792:  RCALL  065E
0794:  MOVLW  2F
0796:  MOVWF  13
0798:  RCALL  05D2
079A:  MOVFF  0A,0D
079E:  MOVLW  01
07A0:  MOVWF  0E
07A2:  RCALL  065E
07A4:  MOVLW  2F
07A6:  MOVWF  13
07A8:  RCALL  05D2
07AA:  MOVFF  0B,0D
07AE:  MOVLW  01
07B0:  MOVWF  0E
07B2:  RCALL  065E
.................... 	} 
07B4:  BRA    072E
.................... } 
07B6:  SLEEP 
>>>>>>> refs/heads/18F452

Configuration Fuses:
   Word  1: 2600   H4 NOOSCSEN
   Word  2: 0E0E   PUT BROWNOUT BORV20 NOWDT WDT128
   Word  3: 0100   CCP2C1
   Word  4: 0081   STVREN NOLVP NODEBUG
   Word  5: C00F   NOPROTECT NOCPB NOCPD
   Word  6: E00F   NOWRT NOWRTC NOWRTB NOWRTD
   Word  7: 400F   NOEBTR NOEBTRB
